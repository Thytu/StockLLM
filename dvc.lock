schema: '2.0'
stages:
  create-task-find-last-move:
    cmd: python src/entrypoint.py create-task-find-last-move
    deps:
    - path: src/tasks/create_task_find_last_move.py
      hash: md5
      md5: 193333a518824964886c768eb0cbf1d9
      size: 1782
    params:
      params.yaml:
        stages.create-task-find-last-move:
          module: tasks.create_task_find_last_move
          params:
            number_of_samples: 15000
            path_to_output_dataset: outputs/tasks/findLastMove.parquet
    outs:
    - path: outputs/tasks/findLastMove.parquet
      hash: md5
      md5: 78197fae3f5937db2b891a80e82e5088
      size: 7966417
  create-task-find-score:
    cmd: python src/entrypoint.py create-task-find-score
    deps:
    - path: src/tasks/create_task_find_score.py
      hash: md5
      md5: 1640f9cd62204cbcce1108e5df46420e
      size: 1548
    params:
      params.yaml:
        stages.create-task-find-score:
          module: tasks.create_task_find_score
          params:
            number_of_samples: 20000
            path_to_output_dataset: outputs/tasks/findScore.parquet
    outs:
    - path: outputs/tasks/findScore.parquet
      hash: md5
      md5: 6865bcfc9d4694f2ae43eb2bd99efa48
      size: 10569968
  create-task-MLM-on-moves:
    cmd: python src/entrypoint.py create-task-MLM-on-moves
    deps:
    - path: src/tasks/create_task_MLM_on_moves.py
      hash: md5
      md5: f63ef62e2aba59adc4e90f68807a5d2a
      size: 2098
    params:
      params.yaml:
        stages.create-task-MLM-on-moves:
          module: tasks.create_task_MLM_on_moves
          params:
            number_of_samples: 15000
            path_to_output_dataset: outputs/tasks/MLM.parquet
    outs:
    - path: outputs/tasks/MLM.parquet
      hash: md5
      md5: 204b523cbe7be7c43a499da0e571c1a3
      size: 8636277
  create-task-find-who-is-winning:
    cmd: python src/entrypoint.py create-task-find-who-is-winning
    deps:
    - path: src/tasks/create_task_find_who_is_winning.py
      hash: md5
      md5: bff22b380ea0893e8151236b100c10a8
      size: 2001
    params:
      params.yaml:
        stages.create-task-find-who-is-winning:
          module: tasks.create_task_find_who_is_winning
          params:
            number_of_samples: 20000
            path_to_output_dataset: outputs/tasks/whoIsWinning.parquet
    outs:
    - path: outputs/tasks/whoIsWinning.parquet
      hash: md5
      md5: 0b5527f2e77d79c56711ae0534f0540d
      size: 5448956
  create-task-sort-FENs:
    cmd: python src/entrypoint.py create-task-sort-FENs
    deps:
    - path: src/tasks/create_task_sort_FENs.py
      hash: md5
      md5: 814418d6f546c7af7deb60105dbffe67
      size: 1751
    params:
      params.yaml:
        stages.create-task-sort-FENs:
          module: tasks.create_task_sort_FENs
          params:
            number_of_samples: 10000
            path_to_output_dataset: outputs/tasks/sortFENs.parquet
    outs:
    - path: outputs/tasks/sortFENs.parquet
      hash: md5
      md5: 1e8ced3e657d6b80f24f25724b6e3053
      size: 5280419
  create-task-find-next-best-move:
    cmd: python src/entrypoint.py create-task-find-next-best-move
    deps:
    - path: src/tasks/create_task_find_next_best_move.py
      hash: md5
      md5: 25cbb3764dfd47616f9cebe82198b6d8
      size: 2016
    params:
      params.yaml:
        stages.create-task-find-next-best-move:
          module: tasks.create_task_find_next_best_move
          params:
            number_of_samples: 20000
            path_to_output_dataset: outputs/tasks/bestMove.parquet
    outs:
    - path: outputs/tasks/bestMove.parquet
      hash: md5
      md5: 58119ee89ea9ce5741387983f7a7714a
      size: 5483092
  merge-tasks-into-dataset:
    cmd: python src/entrypoint.py merge-tasks-into-dataset
    deps:
    - path: outputs/tasks/MLM.parquet
      hash: md5
      md5: 204b523cbe7be7c43a499da0e571c1a3
      size: 8636277
    - path: outputs/tasks/bestMove.parquet
      hash: md5
      md5: 58119ee89ea9ce5741387983f7a7714a
      size: 5483092
    - path: outputs/tasks/findLastMove.parquet
      hash: md5
      md5: 78197fae3f5937db2b891a80e82e5088
      size: 7966417
    - path: outputs/tasks/findScore.parquet
      hash: md5
      md5: 6865bcfc9d4694f2ae43eb2bd99efa48
      size: 10569968
    - path: outputs/tasks/sortFENs.parquet
      hash: md5
      md5: 1e8ced3e657d6b80f24f25724b6e3053
      size: 5280419
    - path: outputs/tasks/whoIsWinning.parquet
      hash: md5
      md5: 0b5527f2e77d79c56711ae0534f0540d
      size: 5448956
    - path: src/data_processing/merge_tasks_into_dataset.py
      hash: md5
      md5: 3e08ec1a248497a5b62e9625dcfd39d5
      size: 1689
    params:
      params.yaml:
        stages.merge-tasks-into-dataset:
          module: data_processing.merge_tasks_into_dataset
          params:
            paths:
            - outputs/tasks/findLastMove.parquet
            - outputs/tasks/findScore.parquet
            - outputs/tasks/MLM.parquet
            - outputs/tasks/whoIsWinning.parquet
            - outputs/tasks/sortFENs.parquet
            - outputs/tasks/bestMove.parquet
            test_size: 0.01
            path_to_train_set: outputs/raw/train.csv
            path_to_test_set: outputs/raw/test.csv
    outs:
    - path: outputs/raw/
      hash: md5
      md5: 924b9e7fc0de8a6f56f45f1512cd58b9.dir
      size: 162771040
      nfiles: 2
  generate-ready-to-use-dataset:
    cmd: python src/entrypoint.py generate-ready-to-use-dataset
    deps:
    - path: outputs/raw/
      hash: md5
      md5: 924b9e7fc0de8a6f56f45f1512cd58b9.dir
      size: 162771040
      nfiles: 2
    - path: src/data_processing/generate_ready_to_use_dataset.py
      hash: md5
      md5: 438ca8adc30e79b1f3b1aef8630fca3e
      size: 1772
    params:
      params.yaml:
        stages.generate-ready-to-use-dataset:
          module: data_processing.generate_ready_to_use_dataset
          params:
            path_to_test_set: outputs/raw/test.csv
            path_to_train_set: outputs/raw/train.csv
            path_to_output_dataset: outputs/dataset/
    outs:
    - path: outputs/dataset/
      hash: md5
      md5: 5487244f04e0bb4b4dd0ece0bddaa941.dir
      size: 5326051725
      nfiles: 17
